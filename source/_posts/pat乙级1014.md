---
title: PAT乙级1014 || 福尔摩斯的约会（详解，C/C++示例，测试点分析）
date: 2019-08-16 10:19:58
tags:
- PAT
- C/C++
- 编程
categories:
- PAT
mathjax: true
---

# **福尔摩斯的约会**
## 题目描述
大侦探福尔摩斯接到一张奇怪的字条：我们约会吧！ 3485djDkxh4hhGE 2984akDfkkkkggEdsb s&hgsfdk d&Hyscvnm。大侦探很快就明白了，字条上奇怪的乱码实际上就是约会的时间星期四 14:04，因为前面两字符串中第 1 对相同的大写英文字母（大小写有区分）是第 4 个字母 D，代表星期四；第 2 对相同的字符是 E ，那是第 5 个英文字母，代表一天里的第 14 个钟头（于是一天的 0 点到 23 点由数字 0 到 9、以及大写字母 A 到 N 表示）；后面两字符串第 1 对相同的英文字母 s 出现在第 4 个位置（从 0 开始计数）上，代表第 4 分钟。现给定两对字符串，请帮助福尔摩斯解码得到约会的时间。
## 输入格式
输入在 4 行中分别给出 4 个非空、不包含空格、且长度不超过 60 的字符串。
## 输出格式
在一行中输出约会的时间，格式为 DAY HH:MM，其中 DAY 是某星期的 3 字符缩写，即 MON 表示星期一，TUE 表示星期二，WED 表示星期三，THU 表示星期四，FRI 表示星期五，SAT 表示星期六，SUN 表示星期日。题目输入保证每个测试存在唯一解。
## 输入样例
```null
3485djDkxh4hhGE 
2984akDfkkkkggEdsb 
s&hgsfdk 
d&Hyscvnm
```
## 输出样例
```null
THU 14:04
```

## 问题解决：
### 解题思想及误点剖析
此题难点在于理解题意，有三个重要问题需要我们明确：

* **第 1 对相同的大写英文字母**，注意是大写英文字母
* **第 2 对相同的字符**，注意由后面的叙述可知，第二对相同的字符应是在第一对相同的大写英文字母基础上的第二对，而且必须是数字字符或大写的英文字母
* **第 1 对相同的英文字母**，注意此处要求是英文字母，大写小写均可，但是，相等时必须对应为大写或小写（比如`a`与`a`相等，`A`与`A`相等，但`a`与`A`不相等）

以上3个重要问题在实现与时间对应时应当注意以下几点：
1. **第 1 对相同的大写英文字母**的字母表顺序i对应星期i（比如A的字母表顺序为1，其对应星期一），我们知道一周也就7天，因此**第 1 对相同的大写英文字母**的字母范围必须是`A~G`，注意如果在代码的if条件中，寻找**第 1 对相同的大写英文字母**的条件是`str[0][i] >= 'A'&&str[0][i] <= 'G'`则导致评测不通过（某个测试点答案错误）
2. **第 2 对相同的字符**与小时的对应为：一天的 0 点到 23 点由数字 0 到 9、以及大写字母 A 到 N 表示。注意判断大写字母时，范围一定为`A~N`
3. **第 1 对相同的英文字母**，范围是`A~Z`或`a~z`
4. 还要特别注意在输出小时和分钟时，小于10的数字前要补0。这里，我用的是格式控制符`%02d`，`%02d`中`2`的含义为：输出宽度为2，`0`的含义为：宽度不足2时用0填充

**注**：如果大家是在牛客网的评测系统提交代码，则条件没有那么多限制，大写字母的范围都用`A~Z`也不会出错。
  我在书写代码时产生了如下错误，包括一些低级错误。比如while循环内少了i++，输出格式控制等错误。最后，请大家看一下下面的这个程序，`代码1`在PAT评测系统评测时有一个测试点不通过，`代码2`是通过的(`代码1`与`代码2`的差别已在代码中标出)。请大家思考一下是为什么？

`代码1`
```c
#include <stdio.h>
#define MAXN 61
//定义一个存放星期字符的字符数组，以便按序号输出星期
char week[7][4] = {"MON","TUE","WED","THU","FRI","SAT","SUN"};
int main()
{
    char str[4][MAXN],first_capital;
    int i,num,hour,flag = 0;//flag标记第一个相同大写字母是否已找到
    //输入4个字符串
    for(i = 0; i < 4; i++){
        gets(str[i]);
    }
    i = 0;
    //顺次查找前两个字符串中第一个相同的大写字母
    while(str[0][i] != '\0'&&str[1][i] != '\0'){
        if(str[0][i] == str[1][i]){
            //还未找到第一个相同大写英文字母
            if((str[0][i] >= 'A')&&(str[0][i] <= 'G')&&(!flag)){
                first_capital = str[0][i];
                flag = 1;
            }
            //已经找到第一个相同大写英文字母
            else if(flag){
                if(str[0][i] >= '0'&&str[0][i] <= '9'){
                    hour = str[0][i] - '0';
                }
                else if(str[0][i] >= 'A'&&str[0][i] <= 'N'){
                    hour = str[0][i] - 'A' + 10;
                }
                break;//此处与代码2有差别
            }
        }
        i++;
    }
    num = first_capital - 'A';
    printf("%s",week[num]);
    i = 0;//注意i要更新为0
    //分钟确定，用相同英文字母的下标确定，
    //注意一定是英文字母（大写相等或小写相等均可）
    while(str[2][i] != '\0'&&str[3][i] != '\0'){
        if(str[2][i] == str[3][i]){
            if((str[2][i] >= 'A'&&str[2][i] <= 'Z')
               ||(str[2][i] >= 'a'&&str[2][i] <= 'z')){
                break;
            }
        }
        i++;
    }
    printf(" %02d:%02d",hour,i);
    return 0;
}

```
### 代码示例（C语言）

`代码2`

```c
#include <stdio.h>
#define MAXN 61
//定义一个存放星期字符的字符数组，以便按序号输出星期
char week[7][4] = {"MON","TUE","WED","THU","FRI","SAT","SUN"};
int main()
{
    char str[4][MAXN],first_capital;
    int i,num,hour,flag = 0;//flag标记第一个相同大写字母是否已找到
    //输入4个字符串
    for(i = 0; i < 4; i++){
        gets(str[i]);
    }
    i = 0;
    //顺次查找前两个字符串中第一个相同的大写字母
    while(str[0][i] != '\0'&&str[1][i] != '\0'){
        if(str[0][i] == str[1][i]){
            //还未找到第一个相同大写英文字母
            if((str[0][i] >= 'A')&&(str[0][i] <= 'G')&&(!flag)){
                first_capital = str[0][i];
                flag = 1;
            }
            //已经找到第一个相同大写英文字母
            else if(flag){
                if(str[0][i] >= '0'&&str[0][i] <= '9'){
                    hour = str[0][i] - '0';
                    break;//此处与代码1有差别
                }
                else if(str[0][i] >= 'A'&&str[0][i] <= 'N'){
                    hour = str[0][i] - 'A' + 10;
                    break;//此处与代码1有差别
                }
            }
        }
        i++;
    }
    num = first_capital - 'A';
    printf("%s",week[num]);
    i = 0;//注意i要更新为0
    //分钟确定，用相同英文字母的下标确定，
    //注意一定是英文字母（大写相等或小写相等均可）
    while(str[2][i] != '\0'&&str[3][i] != '\0'){
        if(str[2][i] == str[3][i]){
            if((str[2][i] >= 'A'&&str[2][i] <= 'Z')
               ||(str[2][i] >= 'a'&&str[2][i] <= 'z')){
                break;
            }
        }
        i++;
    }
    printf(" %02d:%02d",hour,i);
    return 0;
}
```
>题目来源：PAT乙级1014
>作者：CHEN, Yue
>单位：浙江大学