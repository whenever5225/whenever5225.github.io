---
title: PAT乙级1065 || 单身狗（详解，C/C++示例，测试点分析）
date: 2019-10-07 12:06:37
tags:
- PAT
- C/C++
- 编程
categories:
- PAT
---

# **单身狗**
## **题目描述**
“单身狗”是中文对于单身人士的一种爱称。本题请你从上万人的大型派对中找出落单的客人，以便给予特殊关爱。

## **输入格式**
输入第一行给出一个正整数 N（≤ 50 000），是已知夫妻/伴侣的对数；随后 N 行，每行给出一对夫妻/伴侣——为方便起见，每人对应一个 ID 号，为 5 位数字（从 00000 到 99999），ID 间以空格分隔；之后给出一个正整数 M（≤ 10 000），为参加派对的总人数；随后一行给出这 M 位客人的 ID，以空格分隔。题目保证无人重婚或脚踩两条船。

## **输出格式**
首先第一行输出落单客人的总人数；随后第二行按 ID 递增顺序列出落单的客人。ID 间用 1 个空格分隔，行的首尾不得有多余空格。
## **输入样例**
```null
3
11111 22222
33333 44444
55555 66666
7
55555 44444 10000 88888 22222 11111 23333
```
## **输出样例**
```null
5
10000 23333 44444 55555 88888
```

## 问题解决
### 解题思想
声明一个结构体类型`couple`，定义结构体数组`cou[]`，`mate`为下标ID号对应的配偶，`tag`标记下标ID对应的配偶是否参加派队。

输入已知夫妻/伴侣时，建立夫妻/伴侣的映射关系。输入参加派队的每个人的ID时，若其配偶没参加派队（或者是在已输入的ID中暂时还没出现）（此时其tag为0），则将其加入st（单身族或者是暂时的落单）中，若其配偶参加了派队（此时其tag为1），则把其配偶的ID从st中删去，它自己必然也不必加入st。

我们知道`set`会自动的递增排序和去重复，这省去了很多麻烦。

### 代码示例（C/C++）

```cpp
#include <cstdio>
#include <set>
using namespace std;
struct couple {
    int mate, tag;  //mate为配偶，tag标记其配偶是否参加派队
    couple() {
        tag = 0;    //初试化为0
    }
}cou[100000];
int main() {
    int n;
    scanf("%d", &n);
    while(n--) {
        int tmp1,tmp2;
        scanf("%d%d", &tmp1, &tmp2);
        cou[tmp1].mate = tmp2;  //映射配偶
        cou[tmp2].mate = tmp1;
    }
    int m;
    scanf("%d", &m);
    set <int> st;
    while(m--) {
        int tmp;
        scanf("%d", &tmp);
        cou[cou[tmp].mate].tag = 1; //将tmp配偶的tag标记为1
        if(cou[tmp].tag == 1) { //tmp的配偶参加了派队
            st.erase(cou[tmp].mate);    //从单身族中删去tmp的配偶
            continue;
        }
        else {
            st.insert(tmp);
        }
    }
    printf("%d\n", st.size());
    int flag = 1;
    for(set <int>::iterator it = st.begin(); it != st.end(); it++) {
        if(flag) {
            printf("%05d", *it);
            flag = 0;
        }
        else {
            printf(" %05d", *it);
        }
    }
    return 0;
}
```
>题目来源：PAT乙级1065
>作者：CHEN, Yue
>单位：浙江大学