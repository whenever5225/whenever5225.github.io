---
title: PAT乙级1009 || 说反话（详解，C/C++示例，测试点分析）
date: 2019-08-15 12:20:16
tags:
- PAT
- C/C++
- 编程
categories:
- PAT
---

# **说反话**
## **题目描述**
给定一句英语，要求你编写程序，将句中所有单词的顺序颠倒输出。
## **输入格式**
测试输入包含一个测试用例，在一行内给出总长度不超过 80 的字符串。字符串由若干单词和若干空格组成，其中单词是由英文字母（大小写有区分）组成的字符串，单词之间用 1 个空格分开，输入保证句子末尾没有多余的空格。
## **输出格式**
每个测试用例的输出占一行，输出倒序后的句子。
## **输入样例**
```null
Hello World Here I Come
```
## **输出样例**
```null
Come I Here World Hello
```

## 问题解决
### 解题思想
*方法1* (见下面`代码1`)
使用二维数组通过scanf函数输入，遇到一个空格即为一个单词的输入结束，PAT是<u>单点测试</u>，我们知道<u>多点测试</u>的评测系统经常会使用到EOF，scanf函数是有返回值的，它的返回值是其成功读入的参数的个数，scanf函数在读取文件时达到文件末尾导致的无法读取的现象会产生读入失败，读入失败时scanf函数会返回-1，C语言用EOF来表示-1，因此，可用`while(scanf("%s",str[i]) != EOF)`来判断输入是否结束。

**注**：此法代码虽然简单，但有一个点容易出错，如果将如下代码

```c
while(scanf("%s",str[i]) != EOF){
    i++
}
```

写成：

```c
while(scanf("%s",str[i++]) != EOF);
```

将导致评测系统评测不通过。对于此题，用上面的输入样例检测，上面代码退出循环时i的值是5，而下面的代码退出循环时i的值是6，想一想为什么？可以用笔模拟一下这个过程。

*方法2* (见下面`代码2`)
使用一维数组，在每个即将输出的单词后面加一个字符串结束符`'\0'`（否则会输出包含此单词在内后面所有字符串，直到遇到字符串结束符`'\0'`），用printf函数输出字符串。此法的关键点是控制好i的位置。

### 代码示例（C）

`代码1`

```c
#include <stdio.h>
#define MAXN 85
int main()
{
    char str[MAXN][MAXN];
    int i = 0;
    //使用EOF来判断输入是否结束
    while(scanf("%s",str[i]) != EOF){
        i++;
    }
    i--;//i退回到最后一个单词的下标
    while(i >= 0){
        //注意要控制输出格式
        printf("%s",str[i]);
        if(i > 0){
            printf(" ");
        }
        i--;
    }
    return 0;
}

```

`代码2`
```c
#include <stdio.h>
#include <string.h>
#define MAXN 85

int main()
{
    int i,flag = 0;
    char str[MAXN];
    gets(str);
    for(i = strlen(str); i >= 0; i--){
        //在即将输出的单词尾部加一个字符串结束符'\0'
        //i移过即将输出的单词
        str[i] = '\0';
        while((str[i] != ' ')&&(i >= 0)){
            i--;
        }
        //如果由于遇到空格退出循环，则i移至即将输出单词的第一个字符
        if(str[i] == ' '){
            i++;
        }
        //否则i < 0，则即将输出的为第一个单词，i移至其首字符
        else{
            i=0;
        }
        if(flag == 0){
            printf("%s",&str[i]);
            flag = 1;
        }
        else{
            printf(" %s",&str[i]);
        }
    }
    return 0;
}
```

>题目来源：PAT乙级1009
>作者：CHEN, Yue
>单位：浙江大学