---
title: PAT乙级1058 || 选择题（详解，C/C++示例，测试点分析）
date: 2019-10-01 10:28:44
tags:
- PAT
- C/C++
- 编程
categories:
- PAT
---

# **选择题**
## **题目描述**
批改多选题是比较麻烦的事情，本题就请你写个程序帮助老师批改多选题，并且指出哪道题错的人最多。

## **输入格式**
输入在第一行给出两个正整数 N（≤ 1000）和 M（≤ 100），分别是学生人数和多选题的个数。随后 M 行，每行顺次给出一道题的满分值（不超过 5 的正整数）、选项个数（不少于 2 且不超过 5 的正整数）、正确选项个数（不超过选项个数的正整数）、所有正确选项。注意每题的选项从小写英文字母 a 开始顺次排列。各项间以 1 个空格分隔。最后 N 行，每行给出一个学生的答题情况，其每题答案格式为 `(选中的选项个数 选项1 ……)`，按题目顺序给出。注意：题目保证学生的答题情况是合法的，即不存在选中的选项数超过实际选项数的情况。

## **输出格式**
按照输入的顺序给出每个学生的得分，每个分数占一行。注意判题时只有选择全部正确才能得到该题的分数。最后一行输出错得最多的题目的错误次数和编号（题目按照输入的顺序从 1 开始编号）。如果有并列，则按编号递增顺序输出。数字间用空格分隔，行首尾不得有多余空格。如果所有题目都没有人错，则在最后一行输出 `Too simple`。
## **输入样例**
```null
3 4 
3 4 2 a c
2 5 1 b
5 3 2 b c
1 5 4 a b d e
(2 a c) (2 b d) (2 a c) (3 a b e)
(2 a c) (1 b) (2 a b) (4 a b d e)
(2 b d) (1 e) (2 b c) (4 a b c d)
```
## **输出样例**
```null
3
6
5
2 2 3 4
```

## 问题解决
### 解题思想
从描述来看，该题看似很复杂但其实处理过程并不复杂。其中，有一些信息是无用干扰信息，比如选项个数（不少于 2 且不超过 5 的正整数）、正确选项个数（不超过选项个数的正整数）以及学生的答题情况中选中的选项个数等都是用不到的。

读入每个题的信息时可用`%*d`过滤掉不需要的信息，将正确选项以字符串形式存入，某同学的对该题的选项也以字符串的形式读入，之后判断某同学对该题的选择是否正确时，只需用strcmp()函数即可，还要设置一个变量统计最大错误次数，以便对最后一行输出的处理。

### 代码示例（C/C++）

```cpp
#include <cstdio>
#include <cstring>
using namespace std;
struct mc   //多选题的信息
{
    int ts,ernum = 0;   //ts为该题的满分分数，ernum为该题错误次数
    char str[6];    //选项
}mc[101];
char ans[101][6];  //每个学生答题情况
int main()
{
    int n,m;
    char c;
    scanf("%d%d",&n,&m);
    for(int i = 0; i < m; i++){
        scanf("%d%*d%*d",&mc[i].ts);    //只需存入满分分数
        int j = 0;
        while((c = getchar()) != '\n'){ //正确选项以字符串形式存入
            if(c >= 'a'&&c <= 'e'){
                mc[i].str[j++] = c;
            }
        }
        mc[i].str[j] = '\0';
    }
    int maxe = 0;   //最大错误次数
    for(int i = 0; i < n; i++){
        int s = 0;
        for(int k = 0; k < m; k++){
            int j = 0;
            while((c = getchar()) != ')'){  //提取出该同学对某题的选项
                if(c >= 'a'&&c <= 'e'){
                    ans[k][j++] = c;
                }
            }
            ans[k][j] = '\0';
            if(!strcmp(ans[k],mc[k].str)){  //判断选项是否正确
                s += mc[k].ts;
            }
            else{
                mc[k].ernum++;  //错误时累积该题的错误次数
                if(mc[k].ernum > maxe){
                    maxe = mc[k].ernum; //更新最大错误次数
                }
            }
        }
        printf("%d\n",s);
    }
    if(maxe == 0){
        printf("Too simple");
    }
    else{
        printf("%d",maxe);
        for(int i = 0; i < m; i++){
            if(mc[i].ernum == maxe){
                printf(" %d",i + 1);    //注意格式
            }
        }
    }
    return 0;
}
```
>题目来源：PAT乙级1058
>作者：CHEN, Yue
>单位：浙江大学